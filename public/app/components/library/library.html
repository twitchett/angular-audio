<!-- START: library.html -->
<div ng-controller="LibraryController as lib">
	
	<div>
		<h2>Library</h2>
		<h4>Viewing {{subtracks.length}} of {{lib.tracks.length}}</h4>
		<!-- <div class="list-group-item library-list-heading"> -->
			<form class="form-inline form-group">

				<button type="button" class="btn btn-default" ng-click="lib.openImport()">Import</button>

				<input type="checkbox" class="btn btn-sm"
					ng-class="{ 'active' : lib.filters.src.yt }"
					ng-model="lib.filters.src.yt">YouTube</button>

				<input type="checkbox" class="btn btn-sm"
					ng-class="{ 'active' : lib.filters.src.yt }"
					ng-model="lib.filters.src.sc">SoundCloud</button>

				<input type="text" class="form-control" ng-model="lib.search" placeholder="search">

				<button type="button" aria-label="condensed view"
					class="btn btn-default btn-sm  {{ !lib.expanded ? 'active' : '' }}" 
					ng-click="lib.expand(false)">
					<span class="glyphicon glyphicon-list" aria-hidden="true"></span>
				</button>
				<button type="button" aria-label="expanded view"
					class="btn btn-default btn-sm {{ lib.expanded ? 'active' : '' }}" 
					ng-click="lib.expand(true)">
					<span class="glyphicon glyphicon-picture" aria-hidden="true"></span>
				</button>
			</form>
		<!-- </div> -->

		<table class="table table-hover library-table {{ lib.expanded ? 'expanded' : 'table-condensed' }}">

			<thead>
				<th ng-show="lib.expanded"></th>
				<th>Title</th>
				<th>Rating</th>
				<th>Source</th>
				<th>Type</th>
				<th>Tags</th>
			</thead>

			<tbody>

				<tr ng-repeat="track in lib.tracks  | orderBy: lib.order | filter:lib.search | typeFilter:lib.filters as subtracks" 
					ng-click="lib.selectTrack($index, $event)"
					ng-class="track.selected ? 'selected' : 'unselected'">

					<td ng-show="lib.expanded">
						<a href="{{track.getSrcUlr()}}"><img src="{{track.img_url}}"></a>
					</td>
					<td>
						{{ track.src != 'yt' ? track.uploader + ' - ' + track.name : track.name }} 
					</td>
					<td class="table-col-rating">
						<rating ng-model="track.rating" max="5" readonly="false"></rating>
					</td>
					<td>
						<a href="{{track.getSrcUrl()}}">Link</a>
					</td>
					<td>
						{{ track.src == 'sc' ? "SoundCloud" : "YouTube "}}
					</td>
					<td>
						{{tags}}
					</td>
				</tr>

			</tbody>
		</table>


	 	<!--<ul class="list-group library-list">

			<li class="list-group-item playlist-item"
				ng-repeat="track in lib.tracks | filter:lib.search | typeFilter:lib.filters | orderBy: lib.order" 
				ng-click="lib.selectItem($index)"
				ng-class="track.selected ? 'selected' : 'unselected'">

				{{ track.src != 'yt' ? track.uploader + ' - ' + track.name : track.name }} 
			</li>
		</ul>-->

	</div>
</div>
<!-- END: library.html -->